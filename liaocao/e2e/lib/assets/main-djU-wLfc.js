import"./style-bvsOU_V-.js";const $=Symbol.for("atomico.hooks");globalThis[$]=globalThis[$]||{};let j=globalThis[$];const x=Symbol.for("Atomico.suspense"),V=Symbol.for("Atomico.effect"),tt=Symbol.for("Atomico.layoutEffect"),st=Symbol.for("Atomico.insertionEffect"),et=(s,t,e=0)=>{let o={},i=!1;const n=()=>i,l=(r,a)=>{for(const h in o){const u=o[h];u.effect&&u.tag===r&&(u.value=u.effect(u.value,a))}};return{load:r=>{j.c={host:t,hooks:o,update:s,i:0,id:e};let a;try{i=!1,a=r()}catch(h){if(h!==x)throw h;i=!0}finally{j.c=null}return a},cleanEffects:r=>(l(st,r),()=>(l(tt,r),()=>{l(V,r),r&&(o={})})),isSuspense:n}},N=s=>typeof s=="function",P=s=>typeof s=="object",{isArray:ot}=Array,z=s=>"hydrate"in((s==null?void 0:s.dataset)||{});function J(s,t){let e;const o=i=>{let{length:n}=i;for(let l=0;l<n;l++){const f=i[l];if(f&&Array.isArray(f))o(f);else{const c=typeof f;if(f==null||c==="function"||c==="boolean")continue;c==="string"||c==="number"?(e==null&&(e=""),e+=f):(e!=null&&(t(e),e=null),t(f))}}};o(s),e!=null&&t(e)}class Y{constructor(t,e,o){this.message=e,this.target=t,this.value=o}}class nt extends Y{}class it extends Y{}const O="Custom",F=null,rt={true:1,"":1,1:1};function ct(s,t,e,o,i){const{type:n,reflect:l,event:f,value:c,attr:r=ft(t)}=(e==null?void 0:e.name)!=O&&P(e)&&e!=F?e:{type:e},a=(n==null?void 0:n.name)===O&&n.map,h=!(n==Function||a||n==F),u=c!=null,m=u&&n!=Boolean;Object.defineProperty(s,t,{configurable:!0,set(b){const E=this[t];m&&b==null&&(b=c);const{error:S,value:p}=(a?ht:mt)(n,h&&N(b)?b(E):b);if(S&&p!=null)throw new nt(this,`The value defined for prop '${t}' must be of type '${n.name}'`,p);E!=p&&(this._props[t]=p??void 0,this.update(),f&&lt(this,f),this.updated.then(()=>{l&&(this._ignoreAttr=r,ut(this,n,r,this[t]),this._ignoreAttr=null)}))},get(){return this._props[t]}}),u&&(i[t]=c),o[r]={prop:t,type:n}}const lt=(s,{type:t,base:e=CustomEvent,...o})=>s.dispatchEvent(new e(t,o)),ft=s=>s.replace(/([A-Z])/g,"-$1").toLowerCase(),ut=(s,t,e,o)=>o==null||t==Boolean&&!o?s.removeAttribute(e):s.setAttribute(e,(t==null?void 0:t.name)===O&&(t!=null&&t.serialize)?t==null?void 0:t.serialize(o):P(o)?JSON.stringify(o):t==Boolean?"":o),at=(s,t)=>s==Boolean?!!rt[t]:s==Number?Number(t):s==String?t:s==Array||s==Object?JSON.parse(t):s.name==O?t:new s(t),ht=({map:s},t)=>{try{return{value:s(t),error:!1}}catch{return{value:t,error:!0}}},mt=(s,t)=>s==null||t==null?{value:t,error:!1}:s!=String&&t===""?{value:void 0,error:!1}:s==Object||s==Array||s==Symbol?{value:t,error:{}.toString.call(t)!==`[object ${s.name}]`}:t instanceof s?{value:t,error:s==Number&&Number.isNaN(t.valueOf())}:s==String||s==Number||s==Boolean?{value:t,error:s==Number?typeof t!="number"?!0:Number.isNaN(t):s==String?typeof t!="string":typeof t!="boolean"}:{value:t,error:!0};let pt=0;const Et=s=>{var e;const t=((e=(s==null?void 0:s.dataset)||{})==null?void 0:e.hydrate)||"";return t||"c"+pt++},bt=(s,t)=>{const e={},o={},{props:i,styles:n,name:l}=s,f=(l[0]||"").toUpperCase()+l.slice(1);return{[f]:class extends(t||HTMLElement){constructor(){super(),this._setup(),this._render=()=>s({...this._props});for(const r in o)this[r]=o[r]}static get styles(){return[super.styles,n]}async _setup(){if(this._props)return;this._props={};let r,a;this.mounted=new Promise(E=>this.mount=()=>{E(),r!=this.parentNode&&(this.update(),r=this.parentNode)}),this.unmounted=new Promise(E=>this.unmount=()=>{E(),a=a||r,(a!=r||!this.isConnected)&&(h.cleanEffects(!0)()(),a=r)}),this.symbolId=this.symbolId||Symbol();const h=et(()=>this.update(),this,Et(this));let u,m=!0;const b=z(this);this.update=()=>(u||(u=!0,this.updated=(this.updated||this.mounted).then(()=>{try{const E=h.load(this._render),S=h.cleanEffects();return E&&E.render(this,this.symbolId,b),u=!1,m&&!h.isSuspense()&&(m=!1,!b&&St(this)),S()}finally{u=!1}}).then(E=>{E&&E()})),this.updated),this.update()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}async disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),await this.mounted,this.unmount()}attributeChangedCallback(r,a,h){if(e[r]){if(r===this._ignoreAttr||a===h)return;const{prop:u,type:m}=e[r];try{this[u]=at(m,h)}catch{throw new it(this,`The value defined as attr '${r}' cannot be parsed by type '${m.name}'`,h)}}else super.attributeChangedCallback(r,a,h)}static get props(){return{...super.props,...i}}static get observedAttributes(){const r=super.observedAttributes||[];for(const a in i)ct(this.prototype,a,i[a],e,o);return Object.keys(e).concat(r)}}}[f]};function St(s){const{styles:t}=s.constructor,{shadowRoot:e}=s;if(e&&t.length){const o=[];J(t,i=>{i&&(i instanceof Element?e.appendChild(i.cloneNode(!0)):o.push(i))}),o.length&&(e.adoptedStyleSheets=o)}}const M=Symbol.for("atomico/options");globalThis[M]=globalThis[M]||{sheet:!!document.adoptedStyleSheets};const gt=globalThis[M],Nt={checked:1,value:1,selected:1},At={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},Pt={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},_={},R=[],w=document;class D extends Text{}const I=Symbol.for,dt=I("Atomico.ID"),L=I("Atomico.$$"),C=I("Atomico.REF"),yt=()=>{};function _t(s,t,e){return q(this,s,t,e)}const K=(s,t,...e)=>{const o=t||_;let{children:i}=o;if(i=i??(e.length?e:R),s===yt)return i;const n=s?s instanceof Node?1:s.prototype instanceof HTMLElement&&2:0;if(n===!1&&s instanceof Function)return s(i!=R?{children:i,...o}:o);const l=gt.render||_t;return{$$:L,type:s,props:o,children:i,key:o.key,shadow:o.shadowDom,static:o.staticNode,raw:n,is:o.is,clone:o.cloneNode,render:l}};function q(s,t,e=dt,o,i){let n;if(t&&t[e]&&t[e].vnode==s||s.$$!=L)return t;(s||!t)&&(i=i||s.type=="svg",n=s.type!="host"&&(s.raw==1?(t&&s.clone?t[C]:t)!=s.type:s.raw==2?!(t instanceof s.type):t?t[C]||t.localName!=s.type:!t),n&&s.type!=null&&(s.raw==1&&s.clone?(o=!0,t=s.type.cloneNode(!0),t[C]=s.type):t=s.raw==1?s.type:s.raw==2?new s.type:i?w.createElementNS("http://www.w3.org/2000/svg",s.type):w.createElement(s.type,s.is?{is:s.is}:void 0)));const l=t[e]?t[e]:_,{vnode:f=_,cycle:c=0}=l;let{fragment:r,handlers:a}=l;const{children:h=R,props:u=_}=f;if(a=n?{}:a||{},s.static&&!n)return t;if(s.shadow&&!t.shadowRoot&&t.attachShadow({mode:"open",...s.shadow}),s.props!=u&&Ct(t,u,s.props,a,i),s.children!==h){const m=s.shadow?t.shadowRoot:t;r=Tt(s.children,r,m,e,!c&&o,i&&s.type=="foreignObject"?!1:i)}return t[e]={vnode:s,handlers:a,fragment:r,cycle:c+1},t}function Ot(s,t){const e=new D(""),o=new D("");let i;if(s[t?"prepend":"append"](e),t){let{firstElementChild:n}=s;for(;n;){if(z(n)){i=n;break}n=n.nextElementSibling}}return i?s.insertBefore(o,i):s.append(o),{markStart:e,markEnd:o}}function Tt(s,t,e,o,i,n){s=s==null?null:ot(s)?s:[s];const l=t||Ot(e,i),{markStart:f,markEnd:c,keyes:r}=l;let a;const h=r&&new Set;let u=f;if(s&&J(s,m=>{if(typeof m=="object"&&m.$$!=L)return;const b=m.$$&&m.key,E=r&&b!=null&&r.get(b);u!=c&&u===E?h.delete(u):u=u==c?c:u.nextSibling;const S=r?E:u;let p=S;if(m.$$)p=q(m,S,o,i,n);else{const T=m+"";!(p instanceof Text)||p instanceof D?p=new Text(T):p.data!=T&&(p.data=T)}p!=u&&(r&&h.delete(p),!S||r?(e.insertBefore(p,u),r&&u!=c&&h.add(u)):S==c?e.insertBefore(p,c):(e.replaceChild(p,S),u=p)),b!=null&&(a=a||new Map,a.set(b,p))}),u=u==c?c:u.nextSibling,t&&u!=c)for(;u!=c;){const m=u;u=u.nextSibling,m.remove()}return h&&h.forEach(m=>m.remove()),l.keyes=a,l}function Ct(s,t,e,o,i){for(const n in t)!(n in e)&&B(s,n,t[n],null,i,o);for(const n in e)B(s,n,t[n],e[n],i,o)}function B(s,t,e,o,i,n){if(t=t=="class"&&!i?"className":t,e=e??null,o=o??null,t in s&&Nt[t]&&(e=s[t]),!(o===e||Pt[t]||t[0]=="_"))if(t[0]=="o"&&t[1]=="n"&&(N(o)||N(e)))$t(s,t.slice(2),o,n);else if(t=="ref")o&&(N(o)?o(s):o.current=s);else if(t=="style"){const{style:l}=s;e=e||"",o=o||"";const f=P(e),c=P(o);if(f)for(const r in e)if(c)!(r in o)&&H(l,r,null);else break;if(c)for(const r in o){const a=o[r];f&&e[r]===a||H(l,r,a)}else l.cssText=o}else{const l=t[0]=="$"?t.slice(1):t;l===t&&(!i&&!At[t]&&t in s||N(o)||N(e))?s[t]=o??"":o==null?s.removeAttribute(l):s.setAttribute(l,P(o)?JSON.stringify(o):o)}}function $t(s,t,e,o){if(o.handleEvent||(o.handleEvent=i=>o[i.type].call(s,i)),e){if(!o[t]){const i=e.capture||e.once||e.passive?Object.assign({},e):null;s.addEventListener(t,o,i)}o[t]=e}else o[t]&&(s.removeEventListener(t,o),delete o[t])}function H(s,t,e){let o="setProperty";e==null&&(o="removeProperty",e=null),~t.indexOf("-")?s[o](t,e):s[t]=e}K("host",{style:"display: contents"});const Mt=0,g=1,d=2,y=3,U=4,A=5,k=6,W=0,Rt=2,X=3,Z=4,Q=A,Dt=k,v=(s,t,e,o)=>{let i;t[0]=0;for(let n=1;n<t.length;n++){const l=t[n++],f=t[n]?(t[0]|=l?1:2,e[t[n++]]):t[++n];l===X?o[0]=f:l===Z?o[1]=Object.assign(o[1]||{},f):l===Q?(o[1]=o[1]||{})[t[++n]]=f:l===Dt?o[1][t[++n]]+=f+"":l?(i=s.apply(f,v(s,f,e,["",null])),o.push(i),f[0]?t[0]|=2:(t[n-2]=W,t[n]=i)):o.push(f)}return o},kt=function(s){let t=g,e="",o="",i=[0],n,l;const f=c=>{t===g&&(c||(e=e.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(W,c,e):t===y&&(c||e)?(i.push(X,c,e),t=d):t===d&&e==="..."&&c?i.push(Z,c,0):t===d&&e&&!c?i.push(Q,0,!0,e):t>=A&&((e||!c&&t===A)&&(i.push(t,0,e,l),t=k),c&&(i.push(t,c,0,l),t=k)),e=""};for(let c=0;c<s.length;c++){c&&(t===g&&f(),f(c));for(let r=0;r<s[c].length;r++)n=s[c][r],t===g?n==="<"?(f(),i=[i],t=y):e+=n:t===U?e==="--"&&n===">"?(t=g,e=""):e=n+e[0]:o?n===o?o="":e+=n:n==='"'||n==="'"?o=n:n===">"?(f(),t=g):t&&(n==="="?(t=A,l=e,e=""):n==="/"&&(t<A||s[c][r+1]===">")?(f(),t===y&&(i=i[0]),t=i,(i=i[0]).push(Rt,0,t),t=Mt):n===" "||n==="	"||n===`
`||n==="\r"?(f(),t=d):e+=n),t===y&&e==="!--"&&(t=U,i=i[0])}return f(),i},It=new Map;function G(s){let t=It;return t=v(K,t.get(s)||(t.set(s,t=kt(s)),t),arguments,[]),t.length>1?t:t[0]}const Lt={title:"Multi Editor",link:"/multi-editor/"},jt={title:"AutoMd",link:"/plugin-automd/"},Ft={title:"Math",link:"/plugin-math/"},wt={title:"Listener",link:"/plugin-listener/"},Bt={title:"Commonmark",link:"/preset-commonmark/"},Ht={title:"GFM",link:"/preset-gfm/"},Ut=[Bt,Ht,Lt,wt,jt,Ft];function Gt(){return G`
    <host>
      <ul class="m-10">
        ${Ut.map(s=>G`<li class="py-3 hover:text-blue-500 block w-full cursor-pointer"><a href=${s.link}>${s.title}</a></li>`)}
      </ul>
    </host>
  `}customElements.define("milkdown-test-app",bt(Gt));
